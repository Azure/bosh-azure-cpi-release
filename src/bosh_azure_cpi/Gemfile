# frozen_string_literal: true

source 'https://rubygems.org'

gem 'azure-storage-common', '~> 2.0', '>= 2.0.4'
gem 'azure-storage-blob', '~> 2.0', '>= 2.0.3'
gem 'azure-storage-table', '~> 2.0', '>= 2.0.4'
gem 'bosh_common'
gem 'bosh_cpi'
gem 'concurrent-ruby',  '~> 1.1', '>= 1.1.8'
gem 'jwt',              '~> 2.2', '>= 2.2.2'
gem 'deep_merge',       '~> 1.2', '>= 1.2.1'
gem 'net-smtp'
gem 'ostruct'

# fast_jsonparser has a GCC requirement that cannot be guaranteed by all VMs the CPI might run on.
install_if(-> { (`uname`.include?('Linux') && !(`lsb_release -sr`.include?('16.04') if system('which lsb_release > /dev/null 2>&1'))) || `gcc -dumpversion`.to_i > 6 }) do
  gem 'fast_jsonparser', '~> 0.6.0'
end

group :development, :test do
  gem 'rake'
  gem 'rspec'
  gem 'rspec-retry'
  gem 'rubocop', require: false
  gem 'simplecov'
  gem 'webmock'
end
